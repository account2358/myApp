<html>
  <head>
    <base href="<%=basePath%>">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>My JSP 'index.jsp' starting page</title>
	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="cache-control" content="no-cache">
	<meta http-equiv="expires" content="0">    
	<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
	<meta http-equiv="description" content="This is my page">
	<!--
	<link rel="stylesheet" type="text/css" href="styles.css">
	-->
  <script language="javascript">  
    function getParameter(param)  
    {  
        var query = window.location.search;//获取URL地址中？后的所有字符  
        var iLen = param.length;//获取你的参数名称长度  
        var iStart = query.indexOf(param);//获取你该参数名称的其实索引  
        if (iStart == -1)//-1为没有该参数  
            return "";  
        iStart += iLen + 1;  
        var iEnd = query.indexOf("&", iStart);//获取第二个参数的其实索引  
        if (iEnd == -1)//只有一个参数  
            return query.substring(iStart);//获取单个参数的参数值  
        return query.substring(iStart, iEnd);//获取第二个参数的值  
    }  
  
    function init() {  
        var param = getParameter("PayStatus");  
        if(param == "success")
        	document.getElementById("status").text = "支付成功";  
        else
        	document.getElementById("status").text = "支付失败";
    }  
    function doclose()
    {
    	window.opener= null;
    	window.open("","_self");
    	window.close();
    	if(window){
    	   window.location.href="about:blank";
    	}
    	
    }
</script> 
  </head>
  <body onload="init()">
  <a id="status">支付失败</a>;<br>
  <input type="button" name="close" value="关闭" onclick="doclose();" />
  </body>
</html>
